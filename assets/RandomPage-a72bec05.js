import{d as B,r as n,s as E,w as S,o as L,k as I,a as l,b as N,c as R,e as a,f as t,g as r,m as z,h as y,i as b,T as V,n as C,t as Q,p as U,l as A,_ as D}from"./index-e30200b3.js";import{g as q,f as F,a as O}from"./globalStore-cb59422f.js";import{g as $,a as H}from"./index-c5c116cb.js";const K=i=>(U("data-v-dbf0b717"),i=i(),A(),i),M={class:"random"},W={class:"select"},X={class:"question"},j={class:"bottom"},G={class:"button-container"},J=K(()=>a("div",{class:"shortcut-hint"},"快捷键：N",-1)),Y=B({__name:"RandomPage",setup(i){const v=n(null),w=q(),u=n(""),_=n(!1),c=n(E(w).savePathList_treeValue),p=n(40),k=$();var m=[[]];S(c,()=>{m=H(c.value)},{immediate:!0});const f=()=>{_.value=!0,setTimeout(()=>{_.value=!1;const s=O(m);s?u.value=s:(u.value="",z.error("当前抽取范围不存在或没有题目！"))},300)},g=s=>{var e;if(s.key==="n"){const o=document.activeElement;["INPUT","TEXTAREA"].includes(o.tagName)||o.isContentEditable||(e=v.value)==null||e.$el.click()}};return L(()=>{f(),window.addEventListener("keyup",g)}),I(()=>{window.removeEventListener("keyup",g)}),(s,e)=>{const o=l("a-col"),h=l("a-tree-select"),T=l("a-row"),x=l("a-spin"),P=l("a-button");return N(),R("div",M,[a("div",W,[t(T,{type:"flex",align:"center"},{default:r(()=>[t(o,{style:{"margin-right":"8px"}},{default:r(()=>[y("抽题范围: ")]),_:1}),t(o,{flex:"auto"},{default:r(()=>[t(h,{value:c.value,"onUpdate:value":e[0]||(e[0]=d=>c.value=d),"tree-data":b(k),style:{width:"100%"},"tree-checkable":"","allow-clear":"","show-checked-strategy":b(V).SHOW_PARENT,placeholder:"Please select","tree-node-filter-prop":"label","tree-line":!0},null,8,["value","tree-data","show-checked-strategy"])]),_:1})]),_:1})]),a("div",X,[t(x,{class:"",size:"large",spinning:_.value},{default:r(()=>[a("h1",{style:C({"font-size":p.value+"px"})},Q(u.value),5)]),_:1},8,["spinning"])]),a("div",j,[t(F,{value:p.value,"onUpdate:value":e[1]||(e[1]=d=>p.value=d)},null,8,["value"]),a("div",G,[t(P,{class:"rand-btn",type:"primary",size:"large",onClick:e[2]||(e[2]=d=>f()),ref_key:"randButton",ref:v},{default:r(()=>[y(" 再来一道 ")]),_:1},512),J])])])}}});const ae=D(Y,[["__scopeId","data-v-dbf0b717"]]);export{ae as default};
